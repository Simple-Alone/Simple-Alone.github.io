---
title: Design_patterns
date: 2021-10-24 18:51:46
tags: 1.0.0
---

<!--more-->

## 继承

### 什么时候用继承

1. 当两个类之间具备‘is-a’的关系时，就可以考虑用继承了，因为这表示一个类是另一个类的特殊种类，而当两个之间是‘has-a'的关系时，表示某个角色具有某一项责任，此时不何使用继承。比如人有两只手，受不能继承人。

## 多态

1. 多态表示不同的对象可以执行相同的动作，但要通过它们自己的实现代码来执行。

   #### 注意

   1. 子类以父类的身份出现

   2. 子类在工作时以自己的方式来实现

   3. 子类以父类的身份出现时，子类特有的属性和方法不可以使用

   4. 多态的对象声明必须是父类，而不是子类，实例化的对象是子类，这才能实现多态。多态的原理是当方法被调用时，无论对象是否被转换为其父类，都只有位于对象继承链末端的方法实现会被调用。也就是说，虚方法是按照其运行时类型而非编译时类型进行动态绑定调用的。
   

## 重构

​			对于子类中大量重复的代码可以提取出来放到父类中，只针对不同的部分进行重写。

## 抽象类

	#### 	注意
	
	1.	抽象类不能实例化
	2.	抽象方法是必须被子类重写的方法
	3.	如果类中包含抽象方法，那么类就必须定义为抽象类，不论是否还包含其他一般方法。
	4.	抽象类通常代表一个抽象概念，它提供一个继承的出发点，当设计一个新的抽象类时，一定是用来继承的，所以，在一个以继承关系形成的等级结构里面，树叶节点应当是具体类，而树枝节点均应当是抽象类，而树枝节点均应当是抽象类。

## 接口

#### 定义	

​	接口是把隐式公共方法和属性组合起来，以封装特定功能的一个集合。一旦类实现了接口，类就可以支持接口所指定的所有属性和成员。声明接口在语法上与成名抽象类完全相同，但不允许提供接口中任何成员的执行方式。

​	一个类可以支持多个接口，多个类也可以支持相同的接口。

#### 区分抽象类和接口

	1.	类是对对象的抽象；抽象类是对类的抽象；接口是对行为的抽象。接口是对类的局部（行为）进行的抽象，而抽象类是对类整体（字段，属性，方法）的抽象。
	2.	如果行为跨越不同类的对象，可使用接口；对于一些相似的类对象，用继承抽象类。
	3.	从设计角度将，抽象类是从子类中发现了公共的东西，泛化出父类，然后子类继承父类，而接口是根本不知道子类的存在，方法如何实现还不确认，预先定义。（抽象类是自底而上抽象出来的，而接口则是自顶向下设计出来的。）

# 简单工厂模式

根据不同的需要实例化不同的子类，通过多态的形式，返回父类。

## UML类图

	1. 继承关系：空心三角形+实线
 	2. 实现接口：空心三角形+虚线
 	3. 关联关系：实线箭头
 	4. 聚合关系：空心菱形+实线箭头
 	5. 组合关系：实心菱形+实线箭头
 	6. 依赖关系：虚线箭头
